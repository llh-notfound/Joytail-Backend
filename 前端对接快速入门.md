# ğŸš€ PetPal åŒ»é™¢æ¨¡å—å‰ç«¯å¯¹æ¥å¿«é€Ÿå…¥é—¨

## æ¦‚è¿°
PetPal åŒ»é™¢æ¨¡å—æä¾›ç®€æ´çš„REST APIï¼Œç”¨äºè·å–åŒ»é™¢ä¿¡æ¯ã€‚æœ¬æŒ‡å—å¸®åŠ©å‰ç«¯å¼€å‘è€…å¿«é€Ÿä¸Šæ‰‹ã€‚

## ğŸ“ åŸºç¡€ä¿¡æ¯
- **APIåœ°å€**: `http://localhost:8080/api/medical`
- **æ•°æ®æ ¼å¼**: JSON
- **æµ‹è¯•é¡µé¢**: [hospital-api-test.html](./hospital-api-test.html)

## ğŸ¯ ä¸»è¦æ¥å£

### 1. è·å–åŒ»é™¢åˆ—è¡¨
```javascript
// GET /api/medical/hospitals
const hospitals = await fetch('/api/medical/hospitals')
  .then(res => res.json())
  .then(data => data.data.list);

console.log(hospitals[0].name); // "é¦™æ¸¯å® ç‰©åŒ»é™¢"
```

### 2. è·å–åŒ»é™¢è¯¦æƒ…
```javascript
// GET /api/medical/hospitals/{id}
const hospital = await fetch('/api/medical/hospitals/1')
  .then(res => res.json())
  .then(data => data.data);

console.log(hospital.doctors.length); // 1
console.log(hospital.images.length);  // 4
```

## ğŸ“‹ æ•°æ®ç»“æ„

### åŒ»é™¢åˆ—è¡¨é¡¹
```javascript
{
  id: 1,
  name: "é¦™æ¸¯å® ç‰©åŒ»é™¢",
  address: "é¦™æ¸¯ä¸­ç¯å¹²è¯ºé“ä¸­200å·",
  phone: "+852 2234 5678",
  logo_url: "...",
  cover_url: "...",
  rating: 4.8,
  services: ["æ€¥è¯ŠæœåŠ¡", "æ‰‹æœ¯æœåŠ¡"], // ç®€åŒ–ç‰ˆ
  business_hours: "å‘¨ä¸€è‡³å‘¨æ—¥ 8:00-22:00",
  emergency_24h: true
}
```

### åŒ»é™¢è¯¦æƒ…
```javascript
{
  // ...åŸºç¡€ä¿¡æ¯
  images: [
    { id: 1, url: "...", title: "è¯Šç–—å®¤", description: "..." }
  ],
  services: [
    { name: "æ€¥è¯ŠæœåŠ¡", description: "24å°æ—¶æ€¥è¯ŠæœåŠ¡" }
  ],
  doctors: [
    { id: 1, name: "å¼ åŒ»ç”Ÿ", title: "ä¸»ä»»å…½åŒ»å¸ˆ", avatar: "..." }
  ],
  parking: true,
  wifi: true
}
```

## ğŸ¨ React å¿«é€Ÿå®ç°

### åŒ»é™¢åˆ—è¡¨ç»„ä»¶
```jsx
function HospitalList() {
  const [hospitals, setHospitals] = useState([]);

  useEffect(() => {
    fetch('/api/medical/hospitals')
      .then(res => res.json())
      .then(data => setHospitals(data.data.list));
  }, []);

  return (
    <div>
      {hospitals.map(hospital => (
        <div key={hospital.id} className="hospital-card">
          <img src={hospital.cover_url} alt={hospital.name} />
          <h3>{hospital.name}</h3>
          <p>â­ {hospital.rating}</p>
          <p>ğŸ“ {hospital.address}</p>
          {hospital.emergency_24h && <span>ğŸš¨ 24å°æ—¶æ€¥è¯Š</span>}
        </div>
      ))}
    </div>
  );
}
```

### åŒ»é™¢è¯¦æƒ…ç»„ä»¶
```jsx
function HospitalDetail({ id }) {
  const [hospital, setHospital] = useState(null);

  useEffect(() => {
    fetch(`/api/medical/hospitals/${id}`)
      .then(res => res.json())
      .then(data => {
        if (data.code === 200) {
          setHospital(data.data);
        }
      });
  }, [id]);

  if (!hospital) return <div>åŠ è½½ä¸­...</div>;

  return (
    <div>
      <h1>{hospital.name}</h1>
      <p>{hospital.description}</p>
      
      {/* ç¯å¢ƒå›¾ç‰‡ */}
      <div className="images">
        {hospital.images.map(img => (
          <img key={img.id} src={img.url} alt={img.title} />
        ))}
      </div>
      
      {/* åŒ»ç”Ÿå›¢é˜Ÿ */}
      <div className="doctors">
        {hospital.doctors.map(doctor => (
          <div key={doctor.id}>
            <img src={doctor.avatar} alt={doctor.name} />
            <span>{doctor.name} - {doctor.title}</span>
          </div>
        ))}
      </div>
    </div>
  );
}
```

## âš ï¸ é”™è¯¯å¤„ç†

```javascript
const fetchHospital = async (id) => {
  try {
    const response = await fetch(`/api/medical/hospitals/${id}`);
    const data = await response.json();
    
    if (data.code === 404) {
      alert('åŒ»é™¢ä¸å­˜åœ¨');
      return null;
    }
    
    if (data.code !== 200) {
      throw new Error(data.message);
    }
    
    return data.data;
  } catch (error) {
    console.error('è·å–åŒ»é™¢ä¿¡æ¯å¤±è´¥:', error);
    alert('ç½‘ç»œé”™è¯¯ï¼Œè¯·é‡è¯•');
  }
};
```

## ğŸ§ª æµ‹è¯•éªŒè¯

ä½¿ç”¨æµè§ˆå™¨ç›´æ¥æµ‹è¯•ï¼š
- åŒ»é™¢åˆ—è¡¨: http://localhost:8080/api/medical/hospitals
- åŒ»é™¢è¯¦æƒ…: http://localhost:8080/api/medical/hospitals/1
- ä¸å­˜åœ¨åŒ»é™¢: http://localhost:8080/api/medical/hospitals/999

## ğŸ’¡ å®ç”¨æŠ€å·§

### 1. æ¡ä»¶æ¸²æŸ“
```jsx
{hospital.emergency_24h && <span>ğŸš¨ 24å°æ—¶æ€¥è¯Š</span>}
{hospital.parking && <span>ğŸ…¿ï¸ åœè½¦ä½</span>}
{hospital.wifi && <span>ğŸ“¶ WiFi</span>}
```

### 2. æœåŠ¡æ ‡ç­¾
```jsx
<div className="services">
  {hospital.services.map((service, index) => (
    <span key={index} className="tag">{service}</span>
  ))}
</div>
```

### 3. å›¾ç‰‡ç”»å»Š
```jsx
<div className="image-gallery">
  {hospital.images.map(image => (
    <div key={image.id} className="image-item">
      <img src={image.url} alt={image.title} />
      <p>{image.description}</p>
    </div>
  ))}
</div>
```

## ğŸ“± æ ·å¼å»ºè®®

```css
.hospital-card {
  border: 1px solid #ddd;
  border-radius: 8px;
  padding: 16px;
  margin: 8px 0;
}

.hospital-card img {
  width: 100%;
  height: 200px;
  object-fit: cover;
  border-radius: 4px;
}

.tag {
  background: #e3f2fd;
  color: #1976d2;
  padding: 4px 8px;
  border-radius: 12px;
  font-size: 12px;
  margin-right: 4px;
}

.image-gallery {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 16px;
}
```

## ğŸ”— ç›¸å…³æ–‡æ¡£
- [å®Œæ•´APIæ–‡æ¡£](./PetPal-åŒ»é™¢æ¨¡å—å‰ç«¯å¯¹æ¥APIæ–‡æ¡£.md)
- [APIæµ‹è¯•é¡µé¢](./hospital-api-test.html)
- [æ›´æ–°è¯´æ˜](./åŒ»é™¢æ¨¡å—APIæ›´æ–°è¯´æ˜.md)

---
**å¿«é€Ÿä¸Šæ‰‹å®Œæˆï¼** ğŸ‰ å¦‚éœ€æ›´è¯¦ç»†çš„ä¿¡æ¯ï¼Œè¯·æŸ¥çœ‹å®Œæ•´APIæ–‡æ¡£ã€‚

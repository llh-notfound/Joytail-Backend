# PetPal å® ç‰©ç¤¾åŒºé¢„è®¾ç”¨æˆ·å¤´åƒç®¡ç†

## ğŸ“ å¤´åƒå­˜å‚¨ä½ç½®

**æ–‡ä»¶å¤¹è·¯å¾„**: `/home/devbox/project/uploads/community-users/`

## ğŸ‘¥ é¢„è®¾ç”¨æˆ·åˆ—è¡¨

å½“å‰å® ç‰©ç¤¾åŒºæ¨¡å—åŒ…å«6ä¸ªé¢„è®¾ç”¨æˆ·ï¼Œä»–ä»¬çš„å¤´åƒéœ€è¦çœŸå®åŒ–å¤„ç†ï¼š

### 1. æŸ´çŠ¬éº»éº» (user_1)
- **å¤´åƒæ–‡ä»¶å**: `shiba-mama.jpg` æˆ– `shiba-mama.png`
- **ç”¨æˆ·IDæ˜ å°„**: `userId.slice(-1) === '1'` çš„ç”¨æˆ·ä¼šæ˜¾ç¤ºæ­¤æ˜µç§°
- **å»ºè®®å¤´åƒ**: å¹´è½»å¥³æ€§ä¸æŸ´çŠ¬çš„æ¸©é¦¨åˆç…§

### 2. æ©˜çŒ«çˆ¸çˆ¸ (user_2)  
- **å¤´åƒæ–‡ä»¶å**: `orange-cat-papa.jpg` æˆ– `orange-cat-papa.png`
- **ç”¨æˆ·IDæ˜ å°„**: `userId.slice(-1) === '2'` çš„ç”¨æˆ·ä¼šæ˜¾ç¤ºæ­¤æ˜µç§°
- **å»ºè®®å¤´åƒ**: ä¸­å¹´ç”·æ€§ä¸æ©˜çŒ«çš„æç¬‘åˆç…§

### 3. é‡‘æ¯›ä¸»äºº (user_3)
- **å¤´åƒæ–‡ä»¶å**: `golden-owner.jpg` æˆ– `golden-owner.png`
- **ç”¨æˆ·IDæ˜ å°„**: `userId.slice(-1) === '3'` çš„ç”¨æˆ·ä¼šæ˜¾ç¤ºæ­¤æ˜µç§°
- **å»ºè®®å¤´åƒ**: ä¸é‡‘æ¯›çŠ¬çš„æˆ·å¤–æ´»åŠ¨ç…§ç‰‡

### 4. å¸ƒå¶çŒ«å¥´ (user_4)
- **å¤´åƒæ–‡ä»¶å**: `ragdoll-slave.jpg` æˆ– `ragdoll-slave.png`
- **ç”¨æˆ·IDæ˜ å°„**: `userId.slice(-1) === '4'` çš„ç”¨æˆ·ä¼šæ˜¾ç¤ºæ­¤æ˜µç§°
- **å»ºè®®å¤´åƒ**: ä¸å¸ƒå¶çŒ«çš„é«˜è´¨é‡å†™çœŸç…§

### 5. å“ˆå£«å¥‡é“²å±å®˜ (user_5)
- **å¤´åƒæ–‡ä»¶å**: `husky-scooper.jpg` æˆ– `husky-scooper.png`
- **ç”¨æˆ·IDæ˜ å°„**: `userId.slice(-1) === '5'` çš„ç”¨æˆ·ä¼šæ˜¾ç¤ºæ­¤æ˜µç§°
- **å»ºè®®å¤´åƒ**: ä¸å“ˆå£«å¥‡çš„æ—¥å¸¸ç”Ÿæ´»ç…§ï¼ˆå¯ä»¥æ˜¯è¶£å‘³åœºæ™¯ï¼‰

### 6. åŠ è²çŒ«ç®¡å®¶ (user_0 æˆ– user_6)
- **å¤´åƒæ–‡ä»¶å**: `garfield-butler.jpg` æˆ– `garfield-butler.png`
- **ç”¨æˆ·IDæ˜ å°„**: `userId.slice(-1) === '0'` æˆ– `'6'` çš„ç”¨æˆ·ä¼šæ˜¾ç¤ºæ­¤æ˜µç§°
- **å»ºè®®å¤´åƒ**: ä¸åŠ è²çŒ«ç±»ä¼¼çš„æ©˜è‰²çŒ«å’ªåˆç…§

## ğŸ”§ æŠ€æœ¯å®ç°

### å½“å‰ä»£ç ä½ç½®
é¢„è®¾ç”¨æˆ·æ•°æ®åœ¨ä»¥ä¸‹æ–‡ä»¶ä¸­å®šä¹‰ï¼š
- `/home/devbox/project/controllers/communityController_new.js` (ç¬¬23è¡Œ)
- `/home/devbox/project/controllers/communityController_fixed.js` (ç¬¬23è¡Œ)
- `/home/devbox/project/controllers/communityController_clean.js` (ç¬¬23è¡Œ)

### å¤´åƒURLç”Ÿæˆé€»è¾‘
```javascript
// å½“å‰ä½¿ç”¨éšæœºå›¾ç‰‡
avatar: \`https://picsum.photos/100/100?random=\${randomIndex + 100}\`

// éœ€è¦ä¿®æ”¹ä¸ºçœŸå®å¤´åƒURL
avatar: \`/uploads/community-users/\${avatarFileName}\`
```

### æ¨èä¿®æ”¹æ–¹æ¡ˆ
```javascript
const getUserInfo = async (userId) => {
  try {
    const userNames = ['æŸ´çŠ¬éº»éº»', 'æ©˜çŒ«çˆ¸çˆ¸', 'é‡‘æ¯›ä¸»äºº', 'å¸ƒå¶çŒ«å¥´', 'å“ˆå£«å¥‡é“²å±å®˜', 'åŠ è²çŒ«ç®¡å®¶'];
    const avatarFiles = [
      'garfield-butler.jpg',    // index 0
      'shiba-mama.jpg',         // index 1  
      'orange-cat-papa.jpg',    // index 2
      'golden-owner.jpg',       // index 3
      'ragdoll-slave.jpg',      // index 4
      'husky-scooper.jpg'       // index 5
    ];
    
    const randomIndex = parseInt(userId.slice(-1)) || 0;
    const baseUrl = process.env.BASE_URL || 'http://localhost:3000';
    
    return {
      userId,
      username: userNames[randomIndex % userNames.length],
      avatar: \`\${baseUrl}/uploads/community-users/\${avatarFiles[randomIndex % avatarFiles.length]}\`
    };
  } catch (error) {
    // é”™è¯¯å¤„ç†...
  }
};
```

## ğŸ“‹ å¤´åƒæ–‡ä»¶è¦æ±‚

### æŠ€æœ¯è§„æ ¼
- **æ ¼å¼**: JPGã€PNGï¼ˆæ¨èJPGä»¥å‡å°æ–‡ä»¶å¤§å°ï¼‰
- **å°ºå¯¸**: 200x200px æˆ– 300x300pxï¼ˆæ­£æ–¹å½¢ï¼‰
- **æ–‡ä»¶å¤§å°**: æ¯ä¸ªæ–‡ä»¶ä¸è¶…è¿‡ 500KB
- **è´¨é‡**: é«˜æ¸…æ™°åº¦ï¼Œé€‚åˆåœ¨ç§»åŠ¨ç«¯æ˜¾ç¤º

### å†…å®¹è¦æ±‚
- **çœŸå®æ€§**: çœŸå®çš„å® ç‰©ä¸»äººä¸å® ç‰©åˆç…§
- **è´¨é‡**: æ¸…æ™°ã€å…‰çº¿å……è¶³ã€æ„å›¾è‰¯å¥½
- **é£æ ¼**: æ¸©é¦¨ã€ç”Ÿæ´»åŒ–ã€ç¬¦åˆå® ç‰©ç¤¾åŒºæ°›å›´
- **å¤šæ ·æ€§**: ä¸åŒå¹´é¾„ã€æ€§åˆ«çš„å® ç‰©ä¸»äºº
- **åˆè§„æ€§**: ç¡®ä¿æœ‰ä½¿ç”¨æƒé™ï¼Œæ— ç‰ˆæƒäº‰è®®

## ğŸ”„ æ›´æ–°æµç¨‹

### 1. ä¸Šä¼ å¤´åƒæ–‡ä»¶
å°†6ä¸ªå¤´åƒæ–‡ä»¶æ”¾å…¥ `/home/devbox/project/uploads/community-users/` ç›®å½•

### 2. æ›´æ–°ä»£ç 
ä¿®æ”¹ç¤¾åŒºæ§åˆ¶å™¨æ–‡ä»¶ä¸­çš„å¤´åƒURLç”Ÿæˆé€»è¾‘

### 3. é‡å¯æœåŠ¡
```bash
cd /home/devbox/project
npm run dev
```

### 4. æµ‹è¯•éªŒè¯
- è®¿é—®ç¤¾åŒºåŠ¨æ€åˆ—è¡¨API
- æ£€æŸ¥è¿”å›çš„ç”¨æˆ·å¤´åƒURLæ˜¯å¦æ­£ç¡®
- éªŒè¯å¤´åƒå›¾ç‰‡èƒ½å¦æ­£å¸¸åŠ è½½

## ğŸ“ æ–‡ä»¶ç»“æ„é¢„æœŸ

```
/home/devbox/project/uploads/community-users/
â”œâ”€â”€ shiba-mama.jpg          # æŸ´çŠ¬éº»éº»å¤´åƒ
â”œâ”€â”€ orange-cat-papa.jpg     # æ©˜çŒ«çˆ¸çˆ¸å¤´åƒ  
â”œâ”€â”€ golden-owner.jpg        # é‡‘æ¯›ä¸»äººå¤´åƒ
â”œâ”€â”€ ragdoll-slave.jpg       # å¸ƒå¶çŒ«å¥´å¤´åƒ
â”œâ”€â”€ husky-scooper.jpg       # å“ˆå£«å¥‡é“²å±å®˜å¤´åƒ
â””â”€â”€ garfield-butler.jpg     # åŠ è²çŒ«ç®¡å®¶å¤´åƒ
```

## ğŸ¯ æ•ˆæœé¢„æœŸ

æ›´æ–°å¤´åƒåï¼Œå® ç‰©ç¤¾åŒºæ¨¡å—å°†æ˜¾ç¤ºï¼š
- âœ… çœŸå®çš„å® ç‰©ä¸»äººå¤´åƒ
- âœ… æ›´æœ‰äº²å’ŒåŠ›çš„ç”¨æˆ·å½¢è±¡
- âœ… æå‡ç¤¾åŒºå†…å®¹çš„å¯ä¿¡åº¦
- âœ… å¢å¼ºç”¨æˆ·ä»£å…¥æ„Ÿå’Œå‚ä¸åº¦

---

## ğŸ“ è”ç³»ä¿¡æ¯

å¦‚éœ€ååŠ©æ–‡ä»¶ä¸Šä¼ æˆ–ä»£ç ä¿®æ”¹ï¼Œè¯·åŠæ—¶æ²Ÿé€šã€‚
å»ºè®®å…ˆæä¾›1-2ä¸ªå¤´åƒæ–‡ä»¶è¿›è¡Œæµ‹è¯•ï¼Œç¡®è®¤æ•ˆæœåå†æ‰¹é‡æ›´æ–°ã€‚

**æ›´æ–°æ—¥æœŸ**: 2025-01-23
